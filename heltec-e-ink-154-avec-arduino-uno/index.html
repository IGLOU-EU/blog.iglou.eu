<!doctype html><html lang=fr-fr dir=ltr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes,viewport-fit=cover"><title>Heltec e-ink 1.54" avec Arduino UNO | Blog Iglou.eu</title><link rel=icon href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48dGV4dCB5PSIuOWVtIiBmb250LXNpemU9IjkwIj7wn5K+PC90ZXh0Pjwvc3ZnPg=="><link rel=canonical href=https://blog.iglou.eu/heltec-e-ink-154-avec-arduino-uno/><meta itemprop=name content='Heltec e-ink 1.54" avec Arduino UNO'><meta itemprop=description content="Cet article est issu dâ€™une importation historique.
Il fut fait sans correcteur orthographique et grammaticale, il est aussi fort probable que des images et liens soient indisponible. La base pour utiliser cet Ã©cran e-ink EDIT: Vous allez rire, jâ€™ai passÃ© deux jours Ã  chercher de la doc pour cet Ã©cran. Puis en rÃ©digeant cet article, jâ€™ai remarquÃ© quâ€™elle Ã©tait disponible sur le site du constructeurâ€¦ et est dÃ» rÃ©diger Ã  nouveau cet article, et retirant pleinnnnnn dâ€™indicationsâ€¦ Câ€™est du boulot dâ€™Ãªtre con."><meta itemprop=datePublished content="2019-03-18T13:17:00+00:00"><meta itemprop=dateModified content="2019-03-18T21:40:24+00:00"><meta itemprop=wordCount content="514"><meta itemprop=keywords content="Hardware,Programmation"><meta property="og:url" content="https://blog.iglou.eu/heltec-e-ink-154-avec-arduino-uno/"><meta property="og:site_name" content="Blog Iglou.eu"><meta property="og:title" content='Heltec e-ink 1.54" avec Arduino UNO'><meta property="og:description" content="Cet article est issu dâ€™une importation historique.
Il fut fait sans correcteur orthographique et grammaticale, il est aussi fort probable que des images et liens soient indisponible. La base pour utiliser cet Ã©cran e-ink EDIT: Vous allez rire, jâ€™ai passÃ© deux jours Ã  chercher de la doc pour cet Ã©cran. Puis en rÃ©digeant cet article, jâ€™ai remarquÃ© quâ€™elle Ã©tait disponible sur le site du constructeurâ€¦ et est dÃ» rÃ©diger Ã  nouveau cet article, et retirant pleinnnnnn dâ€™indicationsâ€¦ Câ€™est du boulot dâ€™Ãªtre con."><meta property="og:locale" content="fr_fr"><meta property="og:type" content="article"><meta property="article:published_time" content="2019-03-18T13:17:00+00:00"><meta property="article:modified_time" content="2019-03-18T21:40:24+00:00"><meta property="article:tag" content="Hardware"><meta property="article:tag" content="Programmation"><link href=https://blog.iglou.eu/index.xml rel=alternate type=application/rss+xml title="Blog Iglou.eu"><link rel=me href=https://mastodon.social/@norihiori><link rel=stylesheet href=/css/style.min.04f4b7997c4f8621b627767bda0b5f35702bcb14fff156b6c784df451dba02e0.css integrity="sha256-BPS3mXxPhiG2J3Z72gtfNXAryxT/8Va2x4TfRR26AuA=" crossorigin=anonymous></head><body><div class=toggle-widget id=open-left_panel><style>#open-left_panel .toggle-close{display:none}#open-left_panel:target~.content-main .left_panel{display:block;position:fixed;top:0;left:0;right:0;bottom:0;overflow:auto;z-index:10}#open-left_panel:target .toggle-icon-line{background-color:var(--color-wtoggle-line-focus)}#open-left_panel:target .toggle-icon-line.vertical{transform:rotate(360deg)}#open-left_panel:target .toggle-icon-line.horizontal{transform:rotate(180deg)}#open-left_panel:target .toggle-close{display:initial}#open-left_panel:target .toggle-open{display:none}</style><div class=toggle-icon><span class="toggle-icon-line vertical"></span>
<span class="toggle-icon-line horizontal"></span></div><a class="toggle-open toggle-link" title="Ouvrir Left panel" href=#open-left_panel></a><a class="toggle-close toggle-link" title="Fermer Left panel" href=#close-left_panel></a></div><header class=site-header><h1>Blog Iglou.eu</h1><nav class=main-menu><ul><li><a href=/>Accueil</a></li></ul></nav></header><main class=content-main><div class=top_panel><aside class=article-info><span class=date-info>Le <time class=published datetime=2019-03-18T13:17:00Z>18 Mar 2019
</time>Â· Maj le <time class=editited datetime=2019-03-18T21:40:24Z>18 Mar 2019
</time></span><span class=spacer></span>
<span class=reading-time>2-4 minutes</span></aside></div><div class=left_panel><aside class=sidebar><div class=toc><h2 class=toc-title>Table des MatiÃ¨res</h2><nav id=TableOfContents><ul><li><a href=#la-base-pour-utiliser-cet-Ã©cran-e-ink>La base pour utiliser cet Ã©cran e-ink</a><ul><li><a href=#_heltec-154-e-ink_><em>Heltec 1.54" e-ink</em></a></li><li><a href=#time-for-action->Time for action !</a></li><li><a href=#bon-Ã -savoir->Bon Ã  savoir !</a></li></ul></li></ul></nav></div><div class=tags><h2 class=tags-title>Tags</h2><ul class=tags-list><li class=tags-item><a class=tags-link href=https://blog.iglou.eu/tags/hardware/>Hardware</a></li><li class=tags-item><a class=tags-link href=https://blog.iglou.eu/tags/programmation/>Programmation</a></li></ul></div></aside></div><div class=right_panel><article class="blog-article markdown"><div class="box warning monospace"><span>Cet article est issu d&rsquo;une importation historique.<br>Il fut fait sans correcteur orthographique et grammaticale, il est aussi fort probable que des images et liens soient indisponible.</span></div><h2 id=la-base-pour-utiliser-cet-Ã©cran-e-ink>La base pour utiliser cet Ã©cran e-ink</h2><p><em><strong>EDIT:</strong> Vous allez rire, j&rsquo;ai passÃ© deux jours Ã  chercher de la doc pour cet Ã©cran. Puis en rÃ©digeant cet article, j&rsquo;ai remarquÃ© qu&rsquo;elle Ã©tait disponible sur le site du constructeurâ€¦ et est dÃ» rÃ©diger Ã  nouveau cet article, et retirant pleinnnnnn d&rsquo;indicationsâ€¦ C&rsquo;est du boulot dâ€™Ãªtre con.</em></p><p></p><figure class=article-img><a href=/images/4.bp.blogspot.com-mWhQoubCNE0-XI9f2kthPmI-AAAAAAAAA2A-uEWIut-TtYdYi-W7DZ1x-H8GGumvSsMgCLcBGAs-s640-IMG_20190318_100636.jpg target=_blank title="Ouvrir l'image dans un onglet"><img src=/images/4.bp.blogspot.com-mWhQoubCNE0-XI9f2kthPmI-AAAAAAAAA2A-uEWIut-TtYdYi-W7DZ1x-H8GGumvSsMgCLcBGAs-s640-IMG_20190318_100636.jpg alt="Image de presentation" referrerpolicy=no-referrer loading=lazy class=img-src></a><figcaption class=img-desc>Qu&rsquo;il est beau !</figcaption></figure><p></p><h3 id=_heltec-154-e-ink_><em>Heltec 1.54" e-ink</em></h3><p><strong>I</strong>l Ã©tait une fois, un petit malin. Il pensait que lâ€™Ã©cran e-ink le moins cher et le moins connu de son site chinois Ã©tait le meilleur choixâ€¦ Vous savez quoi ? Il avait tort.</p><p>Heureusement parmi les commentaires du produit, une personne a eu la bonne idÃ©e de citer la lib qu&rsquo;il utilisait (merci Ã  lui &mldr;). Il indiquait aussi que la lib officiel ne fonctionnait pas bien (sans blague).</p><p>La lib compatible est ðŸŽŠ EPD Waveshare 1.54 ðŸŽ‰, en plus elle est disponible dans le lib manager de l&rsquo;IDE Arduino.</p><p><a href="http://www.heltec.cn/project/1-54-inch-e-ink-screen/?lang=en" class=external-link rel="noreferrer nofollow noopener" target=_blank>Lien officiel du produit</a></p><p><a href=https://drive.google.com/file/d/1cxx3VWmvgyAFA6MwDRLmr0n2f8Gkta9O/view class=external-link rel="noreferrer nofollow noopener" target=_blank>Lien officiel de la documentation + sources</a></p><p>Infos du produit compatible de chez waveshare (Probablement la mÃªme base):</p><ul><li><a href=https://www.waveshare.com/w/upload/7/77/1.54inch_e-Paper_Datasheet.pdf class=external-link rel="noreferrer nofollow noopener" target=_blank>E-Paper DataSheet.pdf</a></li><li><a href=https://www.waveshare.com/w/upload/7/7f/1.54inch_e-paper_module_user_manual_en.pdf class=external-link rel="noreferrer nofollow noopener" target=_blank>E-Paper module user manual.pdf</a></li><li><a href=https://www.waveshare.com/wiki/File:1.54inch_e-Paper_Module_code.7z class=external-link rel="noreferrer nofollow noopener" target=_blank>Code exemple.7z</a></li><li><a href=https://wavesharejfs.blogspot.com/2018/08/make-new-larger-font-for-waveshare-spi.html class=external-link rel="noreferrer nofollow noopener" target=_blank>Tuto pour la crÃ©ation d&rsquo;une font</a></li></ul><h3 id=time-for-action->Time for action !</h3><p></p><figure class=article-img><a href=/images/2.bp.blogspot.com-H8fjOnsOpJM-XI9mLOtjHfI-AAAAAAAAA2M-J2i-Mjsuk2kA4C_XhL5MNCF4CzasVCAAwCLcBGAs-s640-Arduino-uno.png target=_blank title="Ouvrir l'image dans un onglet"><img src=/images/2.bp.blogspot.com-H8fjOnsOpJM-XI9mLOtjHfI-AAAAAAAAA2M-J2i-Mjsuk2kA4C_XhL5MNCF4CzasVCAAwCLcBGAs-s640-Arduino-uno.png alt="Image de presentation" referrerpolicy=no-referrer loading=lazy class=img-src></a><figcaption class=img-desc>Un Arduino UNO classique, avec ses broches.</figcaption></figure><p></p><p>Le constructeur du nÃ´tre Ã©cran, bien qu&rsquo;un peu Ã  cran (Ã  non Ã§a, c&rsquo;est moi) &mldr; fournis la liste des pins. C&rsquo;est sympa Ã§a. Attention les Ã©pines, Ã§a pique, alors il ne faut pas se tromper.</p><p></p><figure class=article-img><a href=/images/scr_111606.png target=_blank title="Ouvrir l'image dans un onglet"><img src=/images/scr_111606.png alt="Image de presentation" referrerpolicy=no-referrer loading=lazy class=img-src></a><figcaption class=img-desc>SDI = MOSI = D11; CLK = SCK = D13VCC Ã  connecter sur 3.3v et GND &mldr; ba sur GND !</figcaption></figure><p></p><p>La lib de Waveshare, donne l&rsquo;utilisation des pins <strong>reset</strong> et <strong>busy</strong>, mais elle ne sont pas disponible sur notre Ã©cran et totalement optionnel.</p><p>Le code d&rsquo;exemple est relativement parlant, il n&rsquo;y a donc rien Ã  ajouter sur ce point. Si vous avez besoin de la liste des fonctions, ne regardez pas dans le .h, les commentaires Ã©tant dans le .cpp &mldr;</p><h3 id=bon-Ã -savoir->Bon Ã  savoir !</h3><p>Il y a deux zones mÃ©moires. Par ex, pour afficher une image de fond et un texte, il faut charger les deux zones avec &lsquo;setFrameMemory&rsquo; puis les afficher &lsquo;displayFrame&rsquo;.</p><p>Pour afficher plusieurs zones, il faut dÃ©finir une zone Ã  Ã©diter avec &lsquo;setWidth et setHeight&rsquo;, puis &lsquo;clear&rsquo; cette zone avant d&rsquo;y Ã©crire.</p><p>Il n&rsquo;est pas possible d&rsquo;utiliser de larges zones Ã  Ã©diter, l&rsquo;atmega de notre Arduino n&rsquo;ayant que 2048Bytes de ram, 1Byte = 8pixel. Il y a 40k pixel sur cet Ã©cran, sÃ©lectionner tout lâ€™Ã©cran prendrait 5000Bytes.</p><p>Il y a un bon exemple d&rsquo;utilisation d&rsquo;image dans la lib de chez waveshare, il faut juste garder en tÃªte que l&rsquo;image est en N&amp;B et exprimÃ© en hexadÃ©cimal. Vous pouvez utiliser
<a href=http://www.digole.com/tools/PicturetoC_Hex_converter.php class=external-link rel="noreferrer nofollow noopener" target=_blank>cet outil en ligne</a>
au besoin.</p><p>Tout call a &lsquo;displayFrame&rsquo;, devrait, semble-t-il, Ãªtre prÃ©cÃ©dÃ© d&rsquo;une attente de 300ms</p><p><strong>Ã©a, les amis.</strong></p><p>PS: Dans cet article, il y a probablement pleins dâ€™imprÃ©cisions et d&rsquo;erreur, du fait que je dÃ©couvre tout juste la techno. Nâ€™hÃ©sitez pas Ã  corriger <strong>;)</strong></p></article></div></main><footer class=site-footer><p>Copyright 2024 CC0 - Sans Cookies ni tracking</p></footer></body></html>