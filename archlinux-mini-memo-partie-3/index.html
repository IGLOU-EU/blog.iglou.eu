<!doctype html><html lang=fr-fr dir=ltr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes,viewport-fit=cover"><title>Archlinux mini memo (partie 3) | Blog Iglou.eu</title>
<link rel=icon href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48dGV4dCB5PSIuOWVtIiBmb250LXNpemU9IjkwIj7wn5K+PC90ZXh0Pjwvc3ZnPg=="><link rel=canonical href=https://blog.iglou.eu/archlinux-mini-memo-partie-3/><meta itemprop=name content="Archlinux mini memo (partie 3)"><meta itemprop=description content="Cet article est issu d’une importation historique.
Il fut fait sans correcteur orthographique et grammaticale, il est aussi fort probable que des images et liens soient indisponible. Mes “mentos” d’Arch Dans la partie 3 nous allons retrouver un moment mon très aimable initab, puis la gestion du poweroff et reboot pour les users, ainsi que les lancement a la connexion. Le tout d’un point de vue “virtual console”.
Pourquoi encore du inittab (fait chier avec son inittab…) ? Car j’aime ça, mais aussi pour une connexion automatique de user en virtual console ! C’est le genre de petit truc que je trouve très utile parfois, mais que j’oublie rapidement …"><meta itemprop=datePublished content="2012-01-13T10:30:00+00:00"><meta itemprop=dateModified content="2013-08-06T16:08:50+00:00"><meta itemprop=wordCount content="403"><meta itemprop=keywords content="Linux,Memo"><meta property="og:url" content="https://blog.iglou.eu/archlinux-mini-memo-partie-3/"><meta property="og:site_name" content="Blog Iglou.eu"><meta property="og:title" content="Archlinux mini memo (partie 3)"><meta property="og:description" content="Cet article est issu d’une importation historique.
Il fut fait sans correcteur orthographique et grammaticale, il est aussi fort probable que des images et liens soient indisponible. Mes “mentos” d’Arch Dans la partie 3 nous allons retrouver un moment mon très aimable initab, puis la gestion du poweroff et reboot pour les users, ainsi que les lancement a la connexion. Le tout d’un point de vue “virtual console”.
Pourquoi encore du inittab (fait chier avec son inittab…) ? Car j’aime ça, mais aussi pour une connexion automatique de user en virtual console ! C’est le genre de petit truc que je trouve très utile parfois, mais que j’oublie rapidement …"><meta property="og:locale" content="fr_fr"><meta property="og:type" content="article"><meta property="article:published_time" content="2012-01-13T10:30:00+00:00"><meta property="article:modified_time" content="2013-08-06T16:08:50+00:00"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Memo"><link href=https://blog.iglou.eu/index.xml rel=alternate type=application/rss+xml title="Blog Iglou.eu"><link rel=stylesheet href=/css/style.min.04f4b7997c4f8621b627767bda0b5f35702bcb14fff156b6c784df451dba02e0.css integrity="sha256-BPS3mXxPhiG2J3Z72gtfNXAryxT/8Va2x4TfRR26AuA=" crossorigin=anonymous></head><body><div class=toggle-widget id=open-left_panel><style>#open-left_panel .toggle-close{display:none}#open-left_panel:target~.content-main .left_panel{display:block;position:fixed;top:0;left:0;right:0;bottom:0;overflow:auto;z-index:10}#open-left_panel:target .toggle-icon-line{background-color:var(--color-wtoggle-line-focus)}#open-left_panel:target .toggle-icon-line.vertical{transform:rotate(360deg)}#open-left_panel:target .toggle-icon-line.horizontal{transform:rotate(180deg)}#open-left_panel:target .toggle-close{display:initial}#open-left_panel:target .toggle-open{display:none}</style><div class=toggle-icon><span class="toggle-icon-line vertical"></span>
<span class="toggle-icon-line horizontal"></span></div><a class="toggle-open toggle-link" title="Ouvrir Left panel" href=#open-left_panel></a><a class="toggle-close toggle-link" title="Fermer Left panel" href=#close-left_panel></a></div><header class=site-header><h1>Blog Iglou.eu</h1><nav class=main-menu><ul><li><a href=/>Accueil</a></li></ul></nav></header><main class=content-main><div class=top_panel><aside class=article-info><span class=date-info>Le <time class=published datetime=2012-01-13T10:30:00Z>13 Jan 2012
</time>· Maj le <time class=editited datetime=2013-08-06T16:08:50Z>06 Aug 2013
</time></span><span class=spacer></span>
<span class=reading-time>2-3 minutes</span></aside></div><div class=left_panel><aside class=sidebar><div class=toc><h2 class=toc-title>Table des Matières</h2><nav id=TableOfContents><ul><li><a href=#mes-mentos-darch>Mes &ldquo;mentos&rdquo; d&rsquo;Arch</a><ul><li><a href=#méthode-1>Méthode 1</a></li><li><a href=#méthode-2>Méthode 2</a></li><li><a href=#alternative-pour-eviter-le-wait-_attention-impossible-de-quitter-a1-qui-remplacera-c1_>Alternative pour eviter le wait <em>(attention impossible de quitter A1 qui remplacera C1)</em></a></li></ul></li></ul></nav></div><div class=tags><h2 class=tags-title>Tags</h2><ul class=tags-list><li class=tags-item><a class=tags-link href=https://blog.iglou.eu/tags/linux/>Linux</a></li><li class=tags-item><a class=tags-link href=https://blog.iglou.eu/tags/memo/>Memo</a></li></ul></div></aside></div><div class=right_panel><article class="blog-article markdown"><div class="box warning monospace"><span>Cet article est issu d&rsquo;une importation historique.<br>Il fut fait sans correcteur orthographique et grammaticale, il est aussi fort probable que des images et liens soient indisponible.</span></div><h2 id=mes-mentos-darch>Mes &ldquo;mentos&rdquo; d&rsquo;Arch</h2><p>Dans la partie 3 nous allons retrouver un moment mon très aimable initab, puis la gestion du poweroff et reboot pour les users, ainsi que les lancement a la connexion. Le tout d&rsquo;un point de vue &ldquo;virtual console&rdquo;.</p><p>Pourquoi encore du inittab (fait chier avec son inittab&mldr;) ? Car j&rsquo;aime ça, mais aussi pour une connexion automatique de user en virtual console ! C&rsquo;est le genre de petit truc que je trouve très utile parfois, mais que j’oublie rapidement &mldr;</p><h3 id=méthode-1>Méthode 1</h3><pre tabindex=0><code>c1:2345:respawn:/sbin/agetty -a &lt;nomdeluser&gt; -8 -s 38400 tty1 linux #(on modifie la ligne du tty1)
</code></pre><h3 id=méthode-2>Méthode 2</h3><p>Il faut installer <strong>mingetty</strong> <code>yaourt -S mingetty</code></p><pre tabindex=0><code>a1:2345:wait:/sbin/mingetty --autologin &lt;nomdeluser&gt; tty1 linux #(on ajoute la ligne pour tty1. ATTENTION les tty ne seront pas dispo avant la fin de a1 !)
</code></pre><h3 id=alternative-pour-eviter-le-wait-_attention-impossible-de-quitter-a1-qui-remplacera-c1_>Alternative pour eviter le wait <em>(attention impossible de quitter A1 qui remplacera C1)</em></h3><pre tabindex=0><code>a1:2345:respawn:/sbin/mingetty --autologin &lt;nomdeluser&gt; tty1 linux #(et t&#39;en qu&#39;a faire, commentez la ligne du c1 que a1 remplace.)
</code></pre><hr><p>Il y a bien sur d&rsquo;autres méthodes mais suivant le besoin j&rsquo;utilise ces deux la.</p><p>J&rsquo;ai eu longtemps du mal avec cette gestion de l’énergie pour les users.<br>Attachez vous, c&rsquo;est l&rsquo;heure de reboot en mode user ! Je préfère la solution avec sudo.</p><ul><li>yaourt -S sudo</li><li>Puis on va éditer /etc/sudoers pas besoin d&rsquo;une machine a gaz pour éditer ça &mldr;</li><li>sudo nano /etc/sudoers</li><li>user hostname=NOPASSWD: /sbin/shutdown ,/sbin/reboot ,/sbin/poweroff (on y ajoute cette ligne, pour lui indiquer de ne pas demander le PW)</li><li>On édite .bashrc (et on s’embête pas, on utilise nano [te la pète pas avec ton V ou E])</li><li>Puis on y ajoute des alias dans ce genre <em>alias reboot=&ldquo;sudo reboot&rdquo;</em> (comme conseillé par le wiki archlinux ;) )</li></ul><p>Et pour finir cette 3eme partie le lancement semi automatique d&rsquo;une commande a la connexion d&rsquo;un user.</p><ul><li>On vas dans le .bash_profile de l&rsquo;user en question et on l&rsquo;édite !</li><li>La ligne ce compose de la cible a qui l&rsquo;on vas parler puis de ce que l&rsquo;on va lui dire. Ce qui donne :</li><li>[[ $(tty) == &lsquo;/dev/tty1&rsquo; ]] && lacommande (on parle ici a tty1 en lui disant &ldquo;lacommande&rdquo;)</li></ul><p>Par exemple pour démarrer un script par un alias. Ou :</p><ul><li>[[ $(tty) == &lsquo;/dev/tty1&rsquo; ]] && reboot</li></ul><p><strong>éa, les amis.</strong></p></article></div></main><footer class=site-footer><p>Copyright 2024 CC0 - Sans Cookies ni tracking</p></footer></body></html>