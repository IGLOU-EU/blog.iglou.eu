<!doctype html><html lang=fr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes,viewport-fit=cover"><title>Activer la function mail() pour son serveur php | Blog Iglou.eu</title><meta property="og:title" content="Activer la function mail() pour son serveur php | Blog Iglou.eu"><meta property="og:locale" content="fr_fr"><meta name=theme-color content="#dbf3f4"><meta name=author content="Adrien K"><meta name=description content="Cet article est issu d&amp;rsquo;une importation historique.
Il fut fait sans correcteur orthographique et grammaticale, il est aussi fort probable que des images et liens soient indisponible. PHP, Ho my mail() ! Serveur dédié (ou pas), si nous n&amp;rsquo;avons pas l’utilité d&amp;rsquo;un véritable serveur mail (genre l&amp;rsquo;usine postfix) pour quoi s’embêter. Voyons comment envoyer des email son pouvoir en recevoir sous Debian.
On install Sendmail qui ce chargera de ça."><meta property="og:type" content="article"><meta property="og:description" content="Cet article est issu d&amp;rsquo;une importation historique.
Il fut fait sans correcteur orthographique et grammaticale, il est aussi fort probable que des images et liens soient indisponible. PHP, Ho my mail() ! Serveur dédié (ou pas), si nous n&amp;rsquo;avons pas l’utilité d&amp;rsquo;un véritable serveur mail (genre l&amp;rsquo;usine postfix) pour quoi s’embêter. Voyons comment envoyer des email son pouvoir en recevoir sous Debian.
On install Sendmail qui ce chargera de ça."><meta property="og:publish_date" name=publish_date content="2012-08-02T20:13:00Z"><meta property="article:published_time" content="2012-08-02T20:13:00Z"><meta property="article:modified_time" content="2022-04-04T00:31:17+02:00"><meta property="article:author" content="Adrien K"><meta property="article:tag" content="Serveur memo"><meta property="og:site_name" content="Blog Iglou.eu"><meta property="og:type" content="blog"><link rel=icon href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48dGV4dCB5PSIuOWVtIiBmb250LXNpemU9IjkwIj7wn5K+PC90ZXh0Pjwvc3ZnPg=="><link rel=canonical href=https://blog.iglou.eu/activer-la-function-mail-pour-son/><meta property="og:url" content="https://blog.iglou.eu/activer-la-function-mail-pour-son/"><link rel=stylesheet href=/css/makeup.min.css></head><body><header><h1 class="site_title monospace"><a href=/ class="link inherit">Blog.Iglou.eu</a></h1><div class="ariane monospace">/&#8239;<a href=/ class="link inherit">Home</a>&#8239;/&#8239;<h2 class="intext capitalize">Activer la function mail() pour son serveur php</h2></div><aside class="infos monospace"><span class=infos_by>Par Adrien K</span>
<span class="infos_date right">Le <time class="article_link__date_format text_neon blue" datetime=2012-08-02T20:13:00Z>02 Aug 2012</time>
· Maj le <time class="article_link__date_format text_neon blue" datetime=2022-04-04T00:31:17+02:00>04 Apr 2022</time></span>
<span class=infos_time>Lecture 2 minutes</span>
<span class="infos_tags capitalize right"><a class="article_link__tag link important Serveur" href=/tags/Serveur/>Serveur</a>
<a class="article_link__tag link important memo" href=/tags/memo/>memo</a></span></aside></header><main class=main><article class=article><div class="box warning monospace"><span>Cet article est issu d&rsquo;une importation historique.<br>Il fut fait sans correcteur orthographique et grammaticale, il est aussi fort probable que des images et liens soient indisponible.</span></div><h2 id=php-ho-my-mail->PHP, Ho my mail() !</h2><p>Serveur dédié (ou pas), si nous n&rsquo;avons pas l’utilité d&rsquo;un véritable serveur mail (genre l&rsquo;usine postfix) pour quoi s’embêter. Voyons comment envoyer des email son pouvoir en recevoir sous Debian.</p><p><strong>On install Sendmail qui ce chargera de ça.</strong></p><ul><li><h1 id=sendmail_path-usrsbinsendmail--t--i>sendmail_path =/usr/sbin/sendmail -t -i</h1></li></ul><p><strong>On config dans le php.ini.</strong></p><ul><li><h1 id=nano-etcphp5apache2phpini>nano /etc/php5/apache2/php.ini</h1></li></ul><p><strong>On recherche la partie sendmail.</strong></p><ul><li>Ctrl+w sendmail</li></ul><p><strong>Remplacer :</strong></p><ul><li>;sendmail_path =
<strong>Par :</strong></li><li>sendmail_path =/usr/sbin/sendmail -t -i</li></ul><p><strong>Sav :</strong></p><pre tabindex=0><code>Ctrl+x
Y
Entrée
</code></pre><p><strong>On redémarre apache (ou ce qui gère votre php - serveur web)</strong></p><ul><li><h1 id=etcinitdapache2-restart>/etc/init.d/./apache2 restart</h1></li></ul><p><strong>Testons avec un petit script php, envoyons nous un email.</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
</span></span><span style=display:flex><span>$email <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;votre e-mail&#39;</span>;
</span></span><span style=display:flex><span>$subject <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;E-mail de teste&#39;</span>;
</span></span><span style=display:flex><span>$message <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Bonjour,&#39;</span><span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\r\n</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>.</span><span style=color:#e6db74>&#39;vous venez de vous envoyer un e-mail&#39;</span>;
</span></span><span style=display:flex><span>$headers <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;From: teste-no1&#39;</span> <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\r\n</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>.</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;Reply-To: reload@e-mail-test&#39;</span> <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\r\n</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>.</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;X-Mailer: PHP/&#39;</span> <span style=color:#f92672>.</span> <span style=color:#a6e22e>phpversion</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>mail</span>($email, $subject, $message, $headers)) {
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>echo</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;l email est envoyé.&#39;</span>;
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>header</span>( <span style=color:#e6db74>&#34;refresh:3;url=/&#34;</span> );
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>echo</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Une erreur est survenue lors de l\&#39;envoi de l\&#39;email.&#39;</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Et voila, vous pouvez envoyez des e-mail &mldr; Simple, non ?!</p><p>Il est possible d&rsquo;avoir une erreur comme quoi le mail n&rsquo;est pas envoyé ou de ne pas le recevoir. Vérifiez le fichier log :</p><ul><li><code>cat /var/log/mail.log</code></li></ul><p>Si ça ne donne rien ou que le fichier &ldquo;mail.log&rdquo; n&rsquo;existe pas. Verifiez les log apache2 (/var/log/apache2/) et si Sendmail est bien installé avec cette commande :</p><ul><li><code>dpkg -l | grep sendmail</code></li></ul><p><strong>éa, les amis.</strong></p><aside class="article_comm right"><a class="article_comm__email btn inherit right monospace" href="mailto:adrien@iglou.eu?subject=%5BCommentaire%5D+Activer%20la%20function%20mail%28%29%20pour%20son%20serveur%20php&body=Bonjour%20Adrien%2C%0D%0A">M'envoyer un commentaire</a>
·
<a class="article_comm__issue btn inherit right monospace" href="https://github.com/IGLOU-EU/blog.iglou.eu/issues/new?title=Erreur:+Activer%20la%20function%20mail%28%29%20pour%20son%20serveur%20php&body=Lien:+https%3a%2f%2fblog.iglou.eu%2factiver-la-function-mail-pour-son%2f%0A%0AMince+quel+est+mon+erreur+?%0A">Reporter une erreur</a></aside></article></main><footer><hr class=hr><p class="footer monospace center">Site et contenue sous CC0 - Iconographie par Font Awesome - Sans Cookies ni tracking</p></footer></body></html>