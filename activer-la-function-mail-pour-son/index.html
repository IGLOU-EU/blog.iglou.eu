<!doctype html><html lang=fr-fr dir=ltr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes,viewport-fit=cover"><title>Activer la function mail() pour son serveur php | Blog Iglou.eu</title>
<link rel=icon href=%7b%7d><link rel=canonical href=https://blog.iglou.eu/activer-la-function-mail-pour-son/><meta itemprop=name content="Activer la function mail() pour son serveur php"><meta itemprop=description content="Cet article est issu d’une importation historique.
Il fut fait sans correcteur orthographique et grammaticale, il est aussi fort probable que des images et liens soient indisponible. PHP, Ho my mail() ! Serveur dédié (ou pas), si nous n’avons pas l’utilité d’un véritable serveur mail (genre l’usine postfix) pour quoi s’embêter. Voyons comment envoyer des email son pouvoir en recevoir sous Debian.
On install Sendmail qui ce chargera de ça."><meta itemprop=datePublished content="2012-08-02T20:13:00+00:00"><meta itemprop=dateModified content="2013-08-06T16:08:23+00:00"><meta itemprop=wordCount content="266"><meta itemprop=keywords content="Serveur,Memo"><meta property="og:url" content="https://blog.iglou.eu/activer-la-function-mail-pour-son/"><meta property="og:site_name" content="Blog Iglou.eu"><meta property="og:title" content="Activer la function mail() pour son serveur php"><meta property="og:description" content="Cet article est issu d’une importation historique.
Il fut fait sans correcteur orthographique et grammaticale, il est aussi fort probable que des images et liens soient indisponible. PHP, Ho my mail() ! Serveur dédié (ou pas), si nous n’avons pas l’utilité d’un véritable serveur mail (genre l’usine postfix) pour quoi s’embêter. Voyons comment envoyer des email son pouvoir en recevoir sous Debian.
On install Sendmail qui ce chargera de ça."><meta property="og:locale" content="fr_fr"><meta property="og:type" content="article"><meta property="article:published_time" content="2012-08-02T20:13:00+00:00"><meta property="article:modified_time" content="2013-08-06T16:08:23+00:00"><meta property="article:tag" content="Serveur"><meta property="article:tag" content="Memo"><link href=https://blog.iglou.eu/index.xml rel=alternate type=application/rss+xml title="Blog Iglou.eu"><link rel=stylesheet href=/css/style.min.04f4b7997c4f8621b627767bda0b5f35702bcb14fff156b6c784df451dba02e0.css integrity="sha256-BPS3mXxPhiG2J3Z72gtfNXAryxT/8Va2x4TfRR26AuA=" crossorigin=anonymous></head><body><div class=toggle-widget id=open-left_panel><style>#open-left_panel .toggle-close{display:none}#open-left_panel:target~.content-main .left_panel{display:block;position:fixed;top:0;left:0;right:0;bottom:0;overflow:auto;z-index:10}#open-left_panel:target .toggle-icon-line{background-color:var(--color-wtoggle-line-focus)}#open-left_panel:target .toggle-icon-line.vertical{transform:rotate(360deg)}#open-left_panel:target .toggle-icon-line.horizontal{transform:rotate(180deg)}#open-left_panel:target .toggle-close{display:initial}#open-left_panel:target .toggle-open{display:none}</style><div class=toggle-icon><span class="toggle-icon-line vertical"></span>
<span class="toggle-icon-line horizontal"></span></div><a class="toggle-open toggle-link" title="Ouvrir Left panel" href=#open-left_panel></a><a class="toggle-close toggle-link" title="Fermer Left panel" href=#close-left_panel></a></div><header class=site-header><h1>Blog Iglou.eu</h1><nav class=main-menu><ul><li><a href=/>Accueil</a></li></ul></nav></header><main class=content-main><div class=top_panel><aside class=article-info><span class=date-info>Le <time class=published datetime=2012-08-02T20:13:00Z>02 Aug 2012
</time>· Maj le <time class=editited datetime=2013-08-06T16:08:23Z>06 Aug 2013
</time></span><span class=spacer></span>
<span class=reading-time>1-2 minutes</span></aside></div><div class=left_panel><aside class=sidebar><div class=toc><h2 class=toc-title>Table des Matières</h2><nav id=TableOfContents><ul><li><a href=#php-ho-my-mail->PHP, Ho my mail() !</a></li></ul></nav></div><div class=tags><h2 class=tags-title>Tags</h2><ul class=tags-list><li class=tags-item><a class=tags-link href=https://blog.iglou.eu/tags/serveur/>Serveur</a></li><li class=tags-item><a class=tags-link href=https://blog.iglou.eu/tags/memo/>Memo</a></li></ul></div></aside></div><div class=right_panel><article class="blog-article markdown"><div class="box warning monospace"><span>Cet article est issu d&rsquo;une importation historique.<br>Il fut fait sans correcteur orthographique et grammaticale, il est aussi fort probable que des images et liens soient indisponible.</span></div><h2 id=php-ho-my-mail->PHP, Ho my mail() !</h2><p>Serveur dédié (ou pas), si nous n&rsquo;avons pas l’utilité d&rsquo;un véritable serveur mail (genre l&rsquo;usine postfix) pour quoi s’embêter. Voyons comment envoyer des email son pouvoir en recevoir sous Debian.</p><p><strong>On install Sendmail qui ce chargera de ça.</strong></p><ul><li><h1 id=sendmail_path-usrsbinsendmail--t--i>sendmail_path =/usr/sbin/sendmail -t -i</h1></li></ul><p><strong>On config dans le php.ini.</strong></p><ul><li><h1 id=nano-etcphp5apache2phpini>nano /etc/php5/apache2/php.ini</h1></li></ul><p><strong>On recherche la partie sendmail.</strong></p><ul><li>Ctrl+w sendmail</li></ul><p><strong>Remplacer :</strong></p><ul><li>;sendmail_path =
<strong>Par :</strong></li><li>sendmail_path =/usr/sbin/sendmail -t -i</li></ul><p><strong>Sav :</strong></p><pre tabindex=0><code>Ctrl+x
Y
Entrée
</code></pre><p><strong>On redémarre apache (ou ce qui gère votre php - serveur web)</strong></p><ul><li><h1 id=etcinitdapache2-restart>/etc/init.d/./apache2 restart</h1></li></ul><p><strong>Testons avec un petit script php, envoyons nous un email.</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
</span></span><span style=display:flex><span>$email <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;votre e-mail&#39;</span>;
</span></span><span style=display:flex><span>$subject <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;E-mail de teste&#39;</span>;
</span></span><span style=display:flex><span>$message <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Bonjour,&#39;</span><span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\r\n</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>.</span><span style=color:#e6db74>&#39;vous venez de vous envoyer un e-mail&#39;</span>;
</span></span><span style=display:flex><span>$headers <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;From: teste-no1&#39;</span> <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\r\n</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>.</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;Reply-To: reload@e-mail-test&#39;</span> <span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\r\n</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>.</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;X-Mailer: PHP/&#39;</span> <span style=color:#f92672>.</span> <span style=color:#a6e22e>phpversion</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>mail</span>($email, $subject, $message, $headers)) {
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>echo</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;l email est envoyé.&#39;</span>;
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>header</span>( <span style=color:#e6db74>&#34;refresh:3;url=/&#34;</span> );
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>echo</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Une erreur est survenue lors de l\&#39;envoi de l\&#39;email.&#39;</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Et voila, vous pouvez envoyez des e-mail &mldr; Simple, non ?!</p><p>Il est possible d&rsquo;avoir une erreur comme quoi le mail n&rsquo;est pas envoyé ou de ne pas le recevoir. Vérifiez le fichier log :</p><ul><li><code>cat /var/log/mail.log</code></li></ul><p>Si ça ne donne rien ou que le fichier &ldquo;mail.log&rdquo; n&rsquo;existe pas. Verifiez les log apache2 (/var/log/apache2/) et si Sendmail est bien installé avec cette commande :</p><ul><li><code>dpkg -l | grep sendmail</code></li></ul><p><strong>éa, les amis.</strong></p></article></div></main><footer class=site-footer><p>Copyright 2024 CC0 - Sans Cookies ni tracking</p></footer></body></html>